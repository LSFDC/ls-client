; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.30319.01 

	TITLE	D:\Lost Saga For Developer\Youtube\Tutorial\Source\src\LSClient\BrowserWndProc.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

PUBLIC	?DefaultButtonProc@@3P6GJPAUHWND__@@IIJ@ZA	; DefaultButtonProc
_BSS	SEGMENT
?DefaultButtonProc@@3P6GJPAUHWND__@@IIJ@ZA DD 01H DUP (?) ; DefaultButtonProc
_BSS	ENDS
PUBLIC	?GetHInstance@ioBrowserManager@@QBEPAUHINSTANCE__@@XZ ; ioBrowserManager::GetHInstance
; Function compile flags: /Ogsp
; File d:\lost saga for developer\youtube\tutorial\source\src\lsclient\iobrowsermanager.h
;	COMDAT ?GetHInstance@ioBrowserManager@@QBEPAUHINSTANCE__@@XZ
_TEXT	SEGMENT
?GetHInstance@ioBrowserManager@@QBEPAUHINSTANCE__@@XZ PROC ; ioBrowserManager::GetHInstance, COMDAT
; _this$ = ecx

; 108  : 	inline HINSTANCE GetHInstance() const { return m_hInstance; }

  00000	8b 41 14	 mov	 eax, DWORD PTR [ecx+20]
  00003	c3		 ret	 0
?GetHInstance@ioBrowserManager@@QBEPAUHINSTANCE__@@XZ ENDP ; ioBrowserManager::GetHInstance
_TEXT	ENDS
PUBLIC	__$ArrayPad$
PUBLIC	?ExitButtonProc@@YAJPAUHWND__@@IIJ@Z		; ExitButtonProc
EXTRN	__imp__DefWindowProcA@16:PROC
EXTRN	__imp__CallWindowProcA@20:PROC
EXTRN	__imp__ReleaseCapture@0:PROC
EXTRN	__imp__PtInRect@12:PROC
EXTRN	__imp__GetClientRect@8:PROC
EXTRN	__imp__InvalidateRect@12:PROC
EXTRN	__imp__SetCapture@4:PROC
EXTRN	__imp__GetCapture@0:PROC
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:PROC
; Function compile flags: /Ogsp
; File d:\lost saga for developer\youtube\tutorial\source\src\lsclient\browserwndproc.cpp
;	COMDAT ?ExitButtonProc@@YAJPAUHWND__@@IIJ@Z
_TEXT	SEGMENT
_rcRect$505977 = -20					; size = 16
__$ArrayPad$ = -4					; size = 4
_hWnd$ = 8						; size = 4
_message$ = 12						; size = 4
_wParam$ = 16						; size = 4
_lParam$ = 20						; size = 4
?ExitButtonProc@@YAJPAUHWND__@@IIJ@Z PROC		; ExitButtonProc, COMDAT

; 13   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 14   : 	switch( message )

  00010	81 7d 0c 00 02
	00 00		 cmp	 DWORD PTR _message$[ebp], 512 ; 00000200H
  00017	57		 push	 edi
  00018	8b 7d 08	 mov	 edi, DWORD PTR _hWnd$[ebp]
  0001b	74 09		 je	 SHORT $LN6@ExitButton
  0001d	81 7d 0c a3 02
	00 00		 cmp	 DWORD PTR _message$[ebp], 675 ; 000002a3H

; 35   : 			}
; 36   : 		}
; 37   : 		break;
; 38   : 	case WM_MOUSELEAVE:
; 39   : 		InvalidateRect( hWnd, NULL, FALSE );
; 40   : 		ReleaseCapture();
; 41   : 		break;

  00024	eb 44		 jmp	 SHORT $LN13@ExitButton
$LN6@ExitButton:

; 15   : 	{
; 16   : 	case WM_MOUSEMOVE:
; 17   : 		if( GetCapture() != hWnd )

  00026	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetCapture@0
  0002c	3b c7		 cmp	 eax, edi
  0002e	74 14		 je	 SHORT $LN5@ExitButton

; 18   : 		{
; 19   : 			SetCapture( hWnd );

  00030	57		 push	 edi
  00031	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetCapture@4

; 20   : 			InvalidateRect( hWnd, NULL, FALSE );

  00037	6a 00		 push	 0
  00039	6a 00		 push	 0
  0003b	57		 push	 edi
  0003c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InvalidateRect@12

; 21   : 		}
; 22   : 		else

  00042	eb 39		 jmp	 SHORT $LN11@ExitButton
$LN5@ExitButton:
  00044	53		 push	 ebx
  00045	56		 push	 esi

; 23   : 		{
; 24   : 			POINT ptMouse;
; 25   : 			ptMouse.x = LOWORD(lParam);

  00046	8b 75 14	 mov	 esi, DWORD PTR _lParam$[ebp]

; 26   : 			ptMouse.y = HIWORD(lParam);
; 27   : 
; 28   : 			RECT rcRect;
; 29   : 			GetClientRect(hWnd, &rcRect);

  00049	8d 45 ec	 lea	 eax, DWORD PTR _rcRect$505977[ebp]
  0004c	50		 push	 eax
  0004d	0f b7 de	 movzx	 ebx, si
  00050	57		 push	 edi
  00051	c1 ee 10	 shr	 esi, 16			; 00000010H
  00054	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClientRect@8

; 30   : 
; 31   : 			if( !PtInRect( &rcRect, ptMouse ) )

  0005a	56		 push	 esi
  0005b	53		 push	 ebx
  0005c	8d 45 ec	 lea	 eax, DWORD PTR _rcRect$505977[ebp]
  0005f	50		 push	 eax
  00060	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__PtInRect@12
  00066	5e		 pop	 esi
  00067	5b		 pop	 ebx
  00068	85 c0		 test	 eax, eax
$LN13@ExitButton:
  0006a	75 11		 jne	 SHORT $LN11@ExitButton

; 32   : 			{		
; 33   : 				InvalidateRect(hWnd, NULL, FALSE);	

  0006c	6a 00		 push	 0
  0006e	6a 00		 push	 0
  00070	57		 push	 edi
  00071	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InvalidateRect@12

; 34   : 				ReleaseCapture();

  00077	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ReleaseCapture@0
$LN11@ExitButton:

; 42   : 	}
; 43   : 
; 44   : 	if( DefaultButtonProc )
; 45   : 		return CallWindowProc( DefaultButtonProc, hWnd, message, wParam, lParam );

  0007d	ff 75 14	 push	 DWORD PTR _lParam$[ebp]
  00080	a1 00 00 00 00	 mov	 eax, DWORD PTR ?DefaultButtonProc@@3P6GJPAUHWND__@@IIJ@ZA ; DefaultButtonProc
  00085	ff 75 10	 push	 DWORD PTR _wParam$[ebp]
  00088	ff 75 0c	 push	 DWORD PTR _message$[ebp]
  0008b	57		 push	 edi
  0008c	85 c0		 test	 eax, eax
  0008e	74 09		 je	 SHORT $LN1@ExitButton
  00090	50		 push	 eax
  00091	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CallWindowProcA@20
  00097	eb 06		 jmp	 SHORT $LN9@ExitButton
$LN1@ExitButton:

; 46   : 
; 47   : 	return DefWindowProc( hWnd, message, wParam, lParam );

  00099	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DefWindowProcA@16
$LN9@ExitButton:

; 48   : }

  0009f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000a2	33 cd		 xor	 ecx, ebp
  000a4	5f		 pop	 edi
  000a5	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000aa	c9		 leave
  000ab	c3		 ret	 0
?ExitButtonProc@@YAJPAUHWND__@@IIJ@Z ENDP		; ExitButtonProc
_TEXT	ENDS
PUBLIC	??_C@_06HFKPFKMP@button?$AA@			; `string'
PUBLIC	??_C@_04LBABLPF@Exit?$AA@			; `string'
PUBLIC	_lParam$GSCopy$
PUBLIC	__$ArrayPad$
PUBLIC	?WebParentProc@@YGJPAUHWND__@@IIJ@Z		; WebParentProc
EXTRN	?WebParentClicked@ioBrowserManager@@QAEXPAUHWND__@@@Z:PROC ; ioBrowserManager::WebParentClicked
EXTRN	?WebParentClickOff@ioBrowserManager@@QAEXPAUHWND__@@@Z:PROC ; ioBrowserManager::WebParentClickOff
EXTRN	?DrawExitButton@ioBrowserManager@@QAEXPAUHDC__@@H@Z:PROC ; ioBrowserManager::DrawExitButton
EXTRN	__imp__ScreenToClient@8:PROC
EXTRN	__imp__GetCursorPos@4:PROC
EXTRN	__imp__SetWindowLongA@12:PROC
EXTRN	__imp__GetWindowLongA@8:PROC
EXTRN	__imp__CreateWindowExA@48:PROC
EXTRN	__imp__MoveWindow@24:PROC
EXTRN	__imp__FindWindowExA@16:PROC
EXTRN	__imp__EndPaint@8:PROC
EXTRN	?DrawWebParent@ioBrowserManager@@QAEXPAUHWND__@@PAUHDC__@@UtagRECT@@@Z:PROC ; ioBrowserManager::DrawWebParent
EXTRN	__imp__BeginPaint@8:PROC
EXTRN	?CloseBrowser@ioBrowserManager@@QAE_NPAUHWND__@@@Z:PROC ; ioBrowserManager::CloseBrowser
EXTRN	?GetSingleton@ioBrowserManager@@SAAAV1@XZ:PROC	; ioBrowserManager::GetSingleton
;	COMDAT ??_C@_06HFKPFKMP@button?$AA@
; File d:\lost saga for developer\youtube\tutorial\source\src\lsclient\iobrowsermanager.h
CONST	SEGMENT
??_C@_06HFKPFKMP@button?$AA@ DB 'button', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_04LBABLPF@Exit?$AA@
CONST	SEGMENT
??_C@_04LBABLPF@Exit?$AA@ DB 'Exit', 00H		; `string'
; Function compile flags: /Ogsp
; File d:\lost saga for developer\youtube\tutorial\source\src\lsclient\browserwndproc.cpp
CONST	ENDS
;	COMDAT ?WebParentProc@@YGJPAUHWND__@@IIJ@Z
_TEXT	SEGMENT
_hDC$506006 = -96					; size = 4
_ptCursor$506016 = -92					; size = 8
_lParam$GSCopy$ = -88					; size = 4
_ps$506005 = -84					; size = 64
_rcClient$506017 = -20					; size = 16
_rcClient$506008 = -20					; size = 16
_rcClient$506001 = -20					; size = 16
_rcClient$505992 = -20					; size = 16
__$ArrayPad$ = -4					; size = 4
_hWnd$ = 8						; size = 4
_message$ = 12						; size = 4
_wParam$ = 16						; size = 4
_lParam$ = 20						; size = 4
?WebParentProc@@YGJPAUHWND__@@IIJ@Z PROC		; WebParentProc, COMDAT

; 51   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 60	 sub	 esp, 96			; 00000060H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 52   : 	switch( message )

  00010	8b 45 0c	 mov	 eax, DWORD PTR _message$[ebp]
  00013	53		 push	 ebx
  00014	8b 5d 08	 mov	 ebx, DWORD PTR _hWnd$[ebp]
  00017	56		 push	 esi
  00018	57		 push	 edi
  00019	8b 7d 14	 mov	 edi, DWORD PTR _lParam$[ebp]

; 151  : 		break;
; 152  : 	}
; 153  : 
; 154  : 	return DefWindowProc( hWnd, message, wParam, lParam );

  0001c	89 7d a8	 mov	 DWORD PTR _lParam$GSCopy$[ebp], edi
  0001f	83 f8 2b	 cmp	 eax, 43			; 0000002bH
  00022	0f 87 aa 01 00
	00		 ja	 $LN25@WebParentP

; 52   : 	switch( message )

  00028	0f 84 32 01 00
	00		 je	 $LN14@WebParentP
  0002e	48		 dec	 eax
  0002f	0f 84 bf 00 00
	00		 je	 $LN20@WebParentP
  00035	83 e8 04	 sub	 eax, 4
  00038	74 79		 je	 SHORT $LN18@WebParentP
  0003a	83 e8 0a	 sub	 eax, 10			; 0000000aH
  0003d	74 24		 je	 SHORT $LN16@WebParentP
  0003f	48		 dec	 eax
  00040	0f 85 eb 01 00
	00		 jne	 $LN29@WebParentP

; 146  : 		}
; 147  : 		break;
; 148  : 	case WM_CLOSE:
; 149  : 		if( !g_BrowserMgr.CloseBrowser( hWnd ) )

  00046	53		 push	 ebx
  00047	e8 00 00 00 00	 call	 ?GetSingleton@ioBrowserManager@@SAAAV1@XZ ; ioBrowserManager::GetSingleton
  0004c	8b c8		 mov	 ecx, eax
  0004e	e8 00 00 00 00	 call	 ?CloseBrowser@ioBrowserManager@@QAE_NPAUHWND__@@@Z ; ioBrowserManager::CloseBrowser
  00053	84 c0		 test	 al, al
  00055	0f 85 d6 01 00
	00		 jne	 $LN29@WebParentP

; 150  : 			return TRUE;

  0005b	33 c0		 xor	 eax, eax
  0005d	40		 inc	 eax
  0005e	e9 dc 01 00 00	 jmp	 $LN23@WebParentP
$LN16@WebParentP:

; 86   : 	case WM_PAINT:
; 87   : 		{
; 88   : 			PAINTSTRUCT ps;
; 89   : 			HDC hDC = BeginPaint( hWnd, &ps );

  00063	8d 45 ac	 lea	 eax, DWORD PTR _ps$506005[ebp]
  00066	50		 push	 eax
  00067	53		 push	 ebx
  00068	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__BeginPaint@8
  0006e	89 45 a0	 mov	 DWORD PTR _hDC$506006[ebp], eax

; 90   : 			if( hDC )

  00071	85 c0		 test	 eax, eax
  00073	0f 84 b8 01 00
	00		 je	 $LN29@WebParentP

; 91   : 			{
; 92   : 				RECT rcClient;
; 93   : 				GetClientRect( hWnd, &rcClient );

  00079	8d 45 ec	 lea	 eax, DWORD PTR _rcClient$506008[ebp]
  0007c	50		 push	 eax
  0007d	53		 push	 ebx
  0007e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClientRect@8

; 94   : 
; 95   : 				g_BrowserMgr.DrawWebParent( hWnd, hDC, rcClient );

  00084	83 ec 10	 sub	 esp, 16			; 00000010H
  00087	8b fc		 mov	 edi, esp
  00089	ff 75 a0	 push	 DWORD PTR _hDC$506006[ebp]
  0008c	8d 75 ec	 lea	 esi, DWORD PTR _rcClient$506008[ebp]
  0008f	a5		 movsd
  00090	a5		 movsd
  00091	a5		 movsd
  00092	53		 push	 ebx
  00093	a5		 movsd
  00094	e8 00 00 00 00	 call	 ?GetSingleton@ioBrowserManager@@SAAAV1@XZ ; ioBrowserManager::GetSingleton
  00099	8b c8		 mov	 ecx, eax
  0009b	e8 00 00 00 00	 call	 ?DrawWebParent@ioBrowserManager@@QAEXPAUHWND__@@PAUHDC__@@UtagRECT@@@Z ; ioBrowserManager::DrawWebParent

; 96   : 				EndPaint( hWnd, &ps );

  000a0	8d 45 ac	 lea	 eax, DWORD PTR _ps$506005[ebp]
  000a3	50		 push	 eax
  000a4	53		 push	 ebx
  000a5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EndPaint@8

; 97   : 			}
; 98   : 		}
; 99   : 		break;

  000ab	8b 7d a8	 mov	 edi, DWORD PTR _lParam$GSCopy$[ebp]
  000ae	e9 7e 01 00 00	 jmp	 $LN29@WebParentP
$LN18@WebParentP:

; 74   : 	case WM_SIZE:
; 75   : 		{
; 76   : 			RECT rcClient;
; 77   : 			GetClientRect( hWnd, &rcClient );

  000b3	8d 45 ec	 lea	 eax, DWORD PTR _rcClient$506001[ebp]
  000b6	50		 push	 eax
  000b7	53		 push	 ebx
  000b8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClientRect@8

; 78   : 
; 79   : 			HWND hExit = FindWindowEx( hWnd, 0, "button", "Exit" );

  000be	68 00 00 00 00	 push	 OFFSET ??_C@_04LBABLPF@Exit?$AA@
  000c3	68 00 00 00 00	 push	 OFFSET ??_C@_06HFKPFKMP@button?$AA@
  000c8	6a 00		 push	 0
  000ca	53		 push	 ebx
  000cb	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__FindWindowExA@16

; 80   : 			if( hExit )

  000d1	85 c0		 test	 eax, eax
  000d3	0f 84 58 01 00
	00		 je	 $LN29@WebParentP

; 81   : 			{
; 82   : 				MoveWindow( hExit,rcClient.right - 26, 3, 22, 22, TRUE );

  000d9	8b 4d f4	 mov	 ecx, DWORD PTR _rcClient$506001[ebp+8]
  000dc	6a 01		 push	 1
  000de	6a 16		 push	 22			; 00000016H
  000e0	6a 16		 push	 22			; 00000016H
  000e2	6a 03		 push	 3
  000e4	83 c1 e6	 add	 ecx, -26		; ffffffe6H
  000e7	51		 push	 ecx
  000e8	50		 push	 eax
  000e9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__MoveWindow@24

; 83   : 			}
; 84   : 		}
; 85   : 		break;

  000ef	e9 3d 01 00 00	 jmp	 $LN29@WebParentP
$LN20@WebParentP:

; 53   : 	{
; 54   : 	case WM_CREATE:
; 55   : 		{
; 56   : 			RECT rcClient;
; 57   : 			GetClientRect( hWnd, &rcClient );

  000f4	8d 45 ec	 lea	 eax, DWORD PTR _rcClient$505992[ebp]
  000f7	50		 push	 eax
  000f8	53		 push	 ebx
  000f9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClientRect@8

; 58   : 
; 59   : 			HWND hButton = CreateWindow( "button", "Exit", WS_CHILD | WS_VISIBLE | BS_OWNERDRAW,
; 60   : 										 rcClient.right - 26, 3, 22, 22,
; 61   : 										 hWnd,
; 62   : 										 (HMENU)IDC_WEB_EXIT,
; 63   : 										 g_BrowserMgr.GetHInstance(),
; 64   : 										 NULL );

  000ff	e8 00 00 00 00	 call	 ?GetSingleton@ioBrowserManager@@SAAAV1@XZ ; ioBrowserManager::GetSingleton
  00104	8b 40 14	 mov	 eax, DWORD PTR [eax+20]
  00107	6a 00		 push	 0
  00109	50		 push	 eax
  0010a	8b 45 f4	 mov	 eax, DWORD PTR _rcClient$505992[ebp+8]
  0010d	68 00 04 00 00	 push	 1024			; 00000400H
  00112	53		 push	 ebx
  00113	6a 16		 push	 22			; 00000016H
  00115	6a 16		 push	 22			; 00000016H
  00117	6a 03		 push	 3
  00119	83 c0 e6	 add	 eax, -26		; ffffffe6H
  0011c	50		 push	 eax
  0011d	68 0b 00 00 50	 push	 1342177291		; 5000000bH
  00122	68 00 00 00 00	 push	 OFFSET ??_C@_04LBABLPF@Exit?$AA@
  00127	68 00 00 00 00	 push	 OFFSET ??_C@_06HFKPFKMP@button?$AA@
  0012c	6a 00		 push	 0
  0012e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateWindowExA@48

; 65   : 
; 66   : 			if( !DefaultButtonProc )

  00134	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?DefaultButtonProc@@3P6GJPAUHWND__@@IIJ@ZA, 0 ; DefaultButtonProc
  0013b	8b f0		 mov	 esi, eax
  0013d	75 0e		 jne	 SHORT $LN19@WebParentP

; 67   : 			{
; 68   : 				DefaultButtonProc = (WNDPROC)GetWindowLong( hButton, GWL_WNDPROC );

  0013f	6a fc		 push	 -4			; fffffffcH
  00141	56		 push	 esi
  00142	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetWindowLongA@8
  00148	a3 00 00 00 00	 mov	 DWORD PTR ?DefaultButtonProc@@3P6GJPAUHWND__@@IIJ@ZA, eax ; DefaultButtonProc
$LN19@WebParentP:

; 69   : 			}
; 70   : 
; 71   : 			SetWindowLong( hButton, GWL_WNDPROC, (LONG)ExitButtonProc);

  0014d	68 00 00 00 00	 push	 OFFSET ?ExitButtonProc@@YAJPAUHWND__@@IIJ@Z ; ExitButtonProc
  00152	6a fc		 push	 -4			; fffffffcH
  00154	56		 push	 esi
  00155	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetWindowLongA@12

; 72   : 		}
; 73   : 		break;

  0015b	e9 d1 00 00 00	 jmp	 $LN29@WebParentP
$LN14@WebParentP:

; 100  : 	case WM_DRAWITEM:
; 101  : 		{
; 102  : 			LPDRAWITEMSTRUCT lpDi = (LPDRAWITEMSTRUCT)lParam;
; 103  : 
; 104  : 			if( lpDi->itemState & ODS_SELECTED )

  00160	f6 47 10 01	 test	 BYTE PTR [edi+16], 1
  00164	74 04		 je	 SHORT $LN13@WebParentP

; 105  : 			{
; 106  : 				g_BrowserMgr.DrawExitButton( lpDi->hDC, 2 );	// click

  00166	6a 02		 push	 2

; 107  : 			}
; 108  : 			else

  00168	eb 57		 jmp	 SHORT $LN31@WebParentP
$LN13@WebParentP:

; 109  : 			{
; 110  : 				HWND hExit = FindWindowEx( hWnd, 0, "button", "Exit" );

  0016a	68 00 00 00 00	 push	 OFFSET ??_C@_04LBABLPF@Exit?$AA@
  0016f	68 00 00 00 00	 push	 OFFSET ??_C@_06HFKPFKMP@button?$AA@
  00174	6a 00		 push	 0
  00176	53		 push	 ebx
  00177	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__FindWindowExA@16
  0017d	8b f0		 mov	 esi, eax

; 111  : 				if( hExit )

  0017f	85 f6		 test	 esi, esi
  00181	0f 84 aa 00 00
	00		 je	 $LN29@WebParentP

; 112  : 				{
; 113  : 					POINT ptCursor;
; 114  : 					GetCursorPos( &ptCursor );

  00187	8d 45 a4	 lea	 eax, DWORD PTR _ptCursor$506016[ebp]
  0018a	50		 push	 eax
  0018b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetCursorPos@4

; 115  : 					ScreenToClient( hExit, &ptCursor );

  00191	8d 45 a4	 lea	 eax, DWORD PTR _ptCursor$506016[ebp]
  00194	50		 push	 eax
  00195	56		 push	 esi
  00196	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ScreenToClient@8

; 116  : 
; 117  : 					RECT rcClient;
; 118  : 					GetClientRect( hExit, &rcClient );

  0019c	8d 45 ec	 lea	 eax, DWORD PTR _rcClient$506017[ebp]
  0019f	50		 push	 eax
  001a0	56		 push	 esi
  001a1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClientRect@8

; 119  : 
; 120  : 					if( PtInRect( &rcClient, ptCursor ) )

  001a7	ff 75 a8	 push	 DWORD PTR _ptCursor$506016[ebp+4]
  001aa	8d 45 ec	 lea	 eax, DWORD PTR _rcClient$506017[ebp]
  001ad	ff 75 a4	 push	 DWORD PTR _ptCursor$506016[ebp]
  001b0	50		 push	 eax
  001b1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__PtInRect@12
  001b7	85 c0		 test	 eax, eax
  001b9	74 04		 je	 SHORT $LN10@WebParentP

; 121  : 						g_BrowserMgr.DrawExitButton( lpDi->hDC, 1 );	// over

  001bb	6a 01		 push	 1

; 122  : 					else

  001bd	eb 02		 jmp	 SHORT $LN31@WebParentP
$LN10@WebParentP:

; 123  : 						g_BrowserMgr.DrawExitButton( lpDi->hDC, 0 );	// normal

  001bf	6a 00		 push	 0
$LN31@WebParentP:
  001c1	ff 77 18	 push	 DWORD PTR [edi+24]
  001c4	e8 00 00 00 00	 call	 ?GetSingleton@ioBrowserManager@@SAAAV1@XZ ; ioBrowserManager::GetSingleton
  001c9	8b c8		 mov	 ecx, eax
  001cb	e8 00 00 00 00	 call	 ?DrawExitButton@ioBrowserManager@@QAEXPAUHDC__@@H@Z ; ioBrowserManager::DrawExitButton

; 124  : 				}
; 125  : 			}
; 126  : 		}
; 127  : 		break;

  001d0	eb 5f		 jmp	 SHORT $LN29@WebParentP
$LN25@WebParentP:

; 52   : 	switch( message )

  001d2	2d 00 01 00 00	 sub	 eax, 256		; 00000100H
  001d7	74 45		 je	 SHORT $LN4@WebParentP
  001d9	83 e8 11	 sub	 eax, 17			; 00000011H
  001dc	74 35		 je	 SHORT $LN6@WebParentP
  001de	2d f0 00 00 00	 sub	 eax, 240		; 000000f0H
  001e3	74 18		 je	 SHORT $LN8@WebParentP
  001e5	48		 dec	 eax
  001e6	75 49		 jne	 SHORT $LN29@WebParentP

; 132  : 	case WM_LBUTTONUP:
; 133  : 		g_BrowserMgr.WebParentClickOff( hWnd );

  001e8	53		 push	 ebx
  001e9	e8 00 00 00 00	 call	 ?GetSingleton@ioBrowserManager@@SAAAV1@XZ ; ioBrowserManager::GetSingleton
  001ee	8b c8		 mov	 ecx, eax
  001f0	e8 00 00 00 00	 call	 ?WebParentClickOff@ioBrowserManager@@QAEXPAUHWND__@@@Z ; ioBrowserManager::WebParentClickOff

; 134  : 		ReleaseCapture();

  001f5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ReleaseCapture@0

; 135  : 		break;

  001fb	eb 34		 jmp	 SHORT $LN29@WebParentP
$LN8@WebParentP:

; 128  : 	case WM_LBUTTONDOWN:
; 129  : 		SetCapture( hWnd );

  001fd	53		 push	 ebx
  001fe	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetCapture@4

; 130  : 		g_BrowserMgr.WebParentClicked( hWnd );

  00204	53		 push	 ebx
  00205	e8 00 00 00 00	 call	 ?GetSingleton@ioBrowserManager@@SAAAV1@XZ ; ioBrowserManager::GetSingleton
  0020a	8b c8		 mov	 ecx, eax
  0020c	e8 00 00 00 00	 call	 ?WebParentClicked@ioBrowserManager@@QAEXPAUHWND__@@@Z ; ioBrowserManager::WebParentClicked

; 131  : 		break;

  00211	eb 1e		 jmp	 SHORT $LN29@WebParentP
$LN6@WebParentP:

; 136  : 	case WM_COMMAND:
; 137  : 		if( LOWORD(wParam) == IDC_WEB_EXIT )

  00213	b8 00 04 00 00	 mov	 eax, 1024		; 00000400H
  00218	66 39 45 10	 cmp	 WORD PTR _wParam$[ebp], ax

; 138  : 		{
; 139  : 			g_BrowserMgr.CloseBrowser( hWnd );
; 140  : 		}
; 141  : 		break;

  0021c	eb 04		 jmp	 SHORT $LN30@WebParentP
$LN4@WebParentP:

; 142  : 	case WM_KEYDOWN:
; 143  : 		if( wParam == VK_ESCAPE )

  0021e	83 7d 10 1b	 cmp	 DWORD PTR _wParam$[ebp], 27 ; 0000001bH
$LN30@WebParentP:
  00222	75 0d		 jne	 SHORT $LN29@WebParentP

; 144  : 		{
; 145  : 			g_BrowserMgr.CloseBrowser( hWnd );

  00224	53		 push	 ebx
  00225	e8 00 00 00 00	 call	 ?GetSingleton@ioBrowserManager@@SAAAV1@XZ ; ioBrowserManager::GetSingleton
  0022a	8b c8		 mov	 ecx, eax
  0022c	e8 00 00 00 00	 call	 ?CloseBrowser@ioBrowserManager@@QAE_NPAUHWND__@@@Z ; ioBrowserManager::CloseBrowser
$LN29@WebParentP:

; 151  : 		break;
; 152  : 	}
; 153  : 
; 154  : 	return DefWindowProc( hWnd, message, wParam, lParam );

  00231	57		 push	 edi
  00232	ff 75 10	 push	 DWORD PTR _wParam$[ebp]
  00235	ff 75 0c	 push	 DWORD PTR _message$[ebp]
  00238	53		 push	 ebx
  00239	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DefWindowProcA@16
$LN23@WebParentP:

; 155  : }

  0023f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00242	5f		 pop	 edi
  00243	5e		 pop	 esi
  00244	33 cd		 xor	 ecx, ebp
  00246	5b		 pop	 ebx
  00247	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0024c	c9		 leave
  0024d	c2 10 00	 ret	 16			; 00000010H
?WebParentProc@@YGJPAUHWND__@@IIJ@Z ENDP		; WebParentProc
_TEXT	ENDS
END
